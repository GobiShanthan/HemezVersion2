{% extends 'base.html' %} {% block content %}

<div class="about-container">

    <div class="about-box-top">

        <div class="top-left-box">
            <span id="about-header">Hermes Messenger</span>
            <p id="about-text">
                Hermes Messenger app allows users to chat with friends in real-time by
                joining chatrooms, made possible with Django Channels. Start by signing up,
                then freely create and join chatrooms to talk or just listen in.
            </p>
        </div>
    
        <div class="top-right-box">
            <img id="cartoon-phone" src="https://i.imgur.com/PhLBWAj.png">
            <div id='pink-circle'></div>
            <div id='blue-circle'></div>
            <div id='purple-circle'></div>
        </div>

    </div>

    <div class="about-box-bottom">

        <div class="bottom-text-box">
            <nav id="team-header">Meet Our Team</nav>
            <p id="team-text">This project was a collboration between the following members:</p>
        </div>

        <div id="members">

            <div class="members-container">
                <img class="profile-pic" src="https://i.imgur.com/ae2rHG7.png">
                <nav class="member-links">
                    <div>Gobi Shanthan<br><span>Developer</span></div>
                    <img src="https://i.imgur.com/WPyPfuY.png">
                </nav>
            </div>

            <div class="members-container">
                <img class="profile-pic" src="https://i.imgur.com/ae2rHG7.png">
                <nav class="member-links">
                    <div>Chris Morrison<br><span>Developer</span></div>
                    <img src="https://i.imgur.com/WPyPfuY.png">
                </nav>
            </div>

            <div class="members-container">
                <img class="profile-pic" src="https://i.imgur.com/ae2rHG7.png">
                <nav class="member-links">
                    <div>Till Cappel<br><span>Developer</span></div>
                    <img src="https://i.imgur.com/WPyPfuY.png">
                </nav>
            </div>

            <div class="members-container">
                <img class="profile-pic" src="https://i.imgur.com/ae2rHG7.png">
                <nav class="member-links">
                    <div>Louis Cheung<br><span>Developer</span></div>
                    <img src="https://i.imgur.com/WPyPfuY.png">
                </nav>
            </div>

            <div class="members-container">
                <img class="profile-pic" src="https://i.imgur.com/SBdTgSs.png">
                <nav class="member-links">
                    <div>Meenakshi<br><span>Designer</span></div>
                    <img src="https://i.imgur.com/WPyPfuY.png">
                </nav>
            </div>
            
        </div>
        
        <script>
            // Animation loop for the rising rain effect.
            function risingLogo() {
                // Create a new img element.
                const imgElement = document.createElement('img');
                imgElement.src = 'https://i.imgur.com/rN7m1gM.png';
                
                // Retrieve the width and height of the browser window.
                let viewportHeight = window.innerHeight + 420;
                let viewportWidth = window.innerWidth - 100;
                
                // Set the starting position of the img element.
                imgElement.style.position = 'absolute';
                imgElement.style.left = `calc(${Math.random() * viewportWidth}px)`;
                imgElement.style.bottom = '50px';
                
                // Generate random integers, either negative or positive.
                function getRandomInteger(min, max) {
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                };
                
                // Randomize the img size, velocity and angle.
                let imgSize = getRandomInteger(1, 220) + 80;
                let velocity = getRandomInteger(1, 8);
                let angle = getRandomInteger(-30, 10);
                imgElement.style.width = imgSize + 'px';
                imgElement.style.height = imgSize + 'px';
                imgElement.style.borderRadius = '50%';
                
                // Append the img element to the container.
                const divElement = document.querySelector('.about-box-bottom');
                divElement.appendChild(imgElement);

                // Img element animation loop.
                var animationTimer = setInterval(function animateImg() {
                    const imgTop = parseInt(imgElement.style.bottom); // Get the current position of the img element.
                    imgElement.style.rotate = angle + 'deg';          // Set the angle of the img.
                    let newImgTop = imgTop + velocity;                // Calculate the new position of the img element.
                    imgElement.style.bottom = newImgTop + 'px';       // Set the new position of the img element.

                    if (newImgTop > viewportHeight) {
                        divElement.removeChild(imgElement);
                        clearInterval(animationTimer);
                    };

                }, 16.8);                                             // 16 millisecond intervals is roughly 60 frames per second.
            };

            // This prevents a bug causing the function to overload when the browser is active but tab is unfocused.
            var timer;
            window.onfocus = function() {
                timer = setInterval(function() {risingLogo()}, 2000);
            };

            // Stops the animation timer when the tab is unfocused.
            window.onblur = function() {
                clearInterval(timer);
            };
        </script>

    </div>

</div>

{% endblock %}
